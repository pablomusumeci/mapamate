{"version":3,"sources":["components/GoogleMapDemo.js","components/Store.js","components/SearchBar.js","components/StoreList.js","components/App.js","index.js"],"names":["styles","markerObjects","MapContainer","state","showingInfoWindow","activeMarker","selectedPlace","isEqual","a","b","length","i","onMarkerClick","props","marker","e","setState","onMapClicked","onClose","onMarkerMounted","element","push","getMarkers","storeList","map","store","index","id","ref","onClick","position","lat","coordinates","latitude","lng","longitude","key","name","address","location","address1","rating","getMapBounds","stores","bounds","google","maps","LatLngBounds","extend","prevProps","this","selectedMarkerIndex","markers","slice","event","trigger","mapProps","setOptions","defaultZoom","options","createMapOptions","defaultCenter","onReady","_mapLoaded","visible","className","href","phone","React","Component","GoogleApiWrapper","apiKey","process","Store","onStoreClick","style","fontWeight","color","split","w","toUpperCase","substr","toLowerCase","join","StoreList","renderedContent","require","config","App","onFormSubmit","console","log","GoogleMapDemo","ReactDOM","render","document","getElementById"],"mappings":"i4IAIMA,G,MAAS,CACb,CACI,YAAe,QACf,YAAe,WACf,QAAW,CACP,CACI,WAAc,MAElB,CACI,MAAS,aAIrB,CACI,YAAe,YACf,YAAe,gBACf,QAAW,CACP,CACI,MAAS,aAIrB,CACI,YAAe,MACf,YAAe,gBACf,QAAW,CACP,CACI,MAAS,aAIrB,CACI,YAAe,MACf,YAAe,mBACf,QAAW,CACP,CACI,MAAS,aAIrB,CACI,YAAe,MACf,YAAe,qBACf,QAAW,CACP,CACI,MAAS,aAIrB,CACI,YAAe,WACf,YAAe,WACf,QAAW,CACP,CACI,WAAc,cAElB,CACI,MAAS,aAIrB,CACI,YAAe,OACf,YAAe,gBACf,QAAW,CACP,CACI,WAAc,gBAI1B,CACI,YAAe,OACf,YAAe,mBACf,QAAW,CACP,CACI,MAAS,aAIrB,CACI,YAAe,OACf,YAAe,qBACf,QAAW,CACP,CACI,MAAS,aAIrB,CACI,YAAe,OACf,YAAe,cACf,QAAW,CACP,CACI,WAAc,SAI1B,CACI,YAAe,aACf,YAAe,WACf,QAAW,CACP,CACI,MAAS,aAIrB,CACI,YAAe,gBACf,YAAe,WACf,QAAW,CACP,CACI,MAAS,aAIrB,CACI,YAAe,eACf,YAAe,WACf,QAAW,CACP,CACI,MAAS,aAIrB,CACI,YAAe,UACf,QAAW,CACP,CACI,WAAc,SAI1B,CACI,YAAe,iBACf,YAAe,kBACf,QAAW,CACP,CACI,WAAc,MAElB,CACI,MAAS,aAIrB,CACI,YAAe,iBACf,YAAe,gBACf,QAAW,CACP,CACI,MAAS,WAEb,CACI,WAAc,SAI1B,CACI,YAAe,iBACf,YAAe,qBACf,QAAW,CACP,CACI,MAAS,WAEb,CACI,WAAc,MAElB,CACI,OAAU,OAItB,CACI,YAAe,iBACf,YAAe,mBACf,QAAW,CACP,CACI,MAAS,aAIrB,CACI,YAAe,8BACf,YAAe,SACf,QAAW,CACP,CACI,WAAc,WAMxBC,EAAgB,GAEPC,EAAb,4MACEC,MAAQ,CACNC,mBAAmB,EACnBC,aAAc,GACdC,cAAe,IAJnB,EAOEC,QAAU,SAACC,EAAGC,GACZ,GAAID,EAAEE,SAAWD,EAAEC,OAAQ,MAAO,QAGhC,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAEE,OAAQC,IAAK,GAAIH,EAAEG,KAAOF,EAAEE,GAAI,MAAO,QAC7D,MAAO,QAZb,EAgBEC,cAAgB,SAACC,EAAOC,EAAQC,GAC9B,EAAKC,SAAS,CACZV,cAAeO,EACfR,aAAcS,EACdV,mBAAmB,KApBzB,EAwBEa,aAAe,SAACJ,GACV,EAAKV,MAAMC,mBACb,EAAKY,SAAS,CACZZ,mBAAmB,EACnBC,aAAc,QA5BtB,EAiCEa,QAAU,WACJ,EAAKf,MAAMC,mBACb,EAAKY,SAAS,CACZZ,mBAAmB,EACnBC,aAAc,QArCtB,EAkEEc,gBAAkB,SAACC,GACjBnB,EAAcoB,KAAKD,IAnEvB,EAsEEE,WAAa,WAsBX,OArBgB,EAAKT,MAAMU,UAAUC,KAAI,SAACC,EAAOC,GAC/C,OACE,kBAAC,SAAD,CACEC,GAAID,EACJE,IAAK,EAAKT,gBACVU,QAAS,EAAKjB,cACdkB,SAAU,CACRC,IAAKN,EAAMO,YAAYC,SACvBC,IAAKT,EAAMO,YAAYG,WAKzBC,IAAKX,EAAME,GACXU,KAAMZ,EAAMY,KACZC,QAASb,EAAMc,SAASC,SACxBd,MAAOA,EAAQ,EACfe,OAAQhB,EAAMgB,aAxFxB,EA+FEC,aAAe,SAACC,GAEd,IADA,IAAIC,EAAS,IAAI,EAAK/B,MAAMgC,OAAOC,KAAKC,aAC/BrB,EAAQ,EAAGA,EAAQ,EAAKb,MAAMU,UAAUb,OAAQgB,IACvDkB,EAAOI,OAAO,CACZjB,IAAK,EAAKlB,MAAMU,UAAUG,GAAOM,YAAYC,SAC7CC,IAAK,EAAKrB,MAAMU,UAAUG,GAAOM,YAAYG,YAGjD,OAAOS,GAvGX,iEA0CqBK,GASjB,GARKC,KAAK3C,QAAQ0C,EAAU1B,UAAW2B,KAAKrC,MAAMU,YAChD2B,KAAKlC,UAAS,iBAAO,CACnBZ,mBAAmB,EACnBC,aAAc,GACdC,cAAe,OAIf2C,EAAUE,sBAAwBD,KAAKrC,MAAMsC,qBAC3ClD,EAAcS,OAAS,GAAKwC,KAAKrC,MAAMsC,oBAAqB,CAC9D,IAAIC,EAAUnD,EAAcoD,MAC1BpD,EAAcS,OAAS,GACvBT,EAAcS,QAGhB,IAAIwC,KAAKrC,MAAMgC,OAAOC,KAAKQ,MAAMC,QAC/BH,EAAQF,KAAKrC,MAAMsC,oBAAsB,GAAGrC,OAC5C,YA5DV,iCA2GY0C,EAAUhC,GAClBA,EAAIiC,WAAW,CACZzD,OAAQA,MA7Gf,+BAiHY,IAAD,OACP,OACE,kBAAC,MAAD,CACE6C,OAAQK,KAAKrC,MAAMgC,OACnBa,YAAa,EACbC,QAAST,KAAKU,iBACdC,cAAe,CACb9B,IAAK,mBACLG,IAAK,mBAEPL,QAASqB,KAAKjC,aACd6C,QAAS,SAACN,EAAUhC,GAAX,OAAmB,EAAKuC,WAAWP,EAAUhC,IACtDoB,OAAQM,KAAKR,gBAEZQ,KAAK5B,aACN,kBAAC,aAAD,CACEQ,SAAUoB,KAAK/C,MAAMG,cAAcwB,SACnCkC,QAASd,KAAK/C,MAAMC,kBACpBc,QAASgC,KAAKhC,SAEd,yBAAKS,GAAG,cAAcsC,UAAU,qBAC9B,yBAAKA,UAAU,mBACZf,KAAK/C,MAAMG,cAAc+B,MAE5B,yBAAK4B,UAAU,sBACb,yBAAKA,UAAU,QACb,uBAAGA,UAAU,2BAEf,kCAAQf,KAAK/C,MAAMG,cAAcgC,UAEnC,yBAAK2B,UAAU,oBACb,yBAAKA,UAAU,QACb,uBAAGA,UAAU,sBAEf,8BACE,uBAAGC,KAAK,wCACLhB,KAAK/C,MAAMG,cAAc6D,gBArJ5C,GAAkCC,IAAMC,WAgKzBC,6BAAiB,CAC9BC,OAAQC,2CADKF,CAEZpE,GCtUYuE,G,YC9BSL,IAAMC,U,MDAhB,SAAC,GAAoC,IAAlC5C,EAAiC,EAAjCA,MAAOC,EAA0B,EAA1BA,MAAOgD,EAAmB,EAAnBA,aAC7B,OACE,yBACET,UAAU,kBACVpC,QAAS,SAACyB,GACRoB,EAAahD,EAAM,EAAG4B,KAGxB,yBAAKW,UAAU,8BACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,iBACb,0BAAMU,MAAO,CAAEC,WAAY,OAAQC,MAAO,YACvC,IACApD,EAAMY,KACJyC,MAAM,KACNtD,KAAI,SAACuD,GAAD,OAAOA,EAAE,GAAGC,cAAgBD,EAAEE,OAAO,GAAGC,iBAC5CC,KAAK,MAEV,kCAAQ1D,EAAMc,SAASC,WAEzB,yBAAKyB,UAAU,sBAAsBxC,EAAM0C,QAE7C,yBAAKF,UAAU,0BACb,yBAAKA,UAAU,gBAAgBvC,EAAQ,QEMlC0D,G,MA5BG,SAAC,GAAiC,IAA/B7D,EAA8B,EAA9BA,UAAWmD,EAAmB,EAAnBA,aAC1B/B,EAASpB,EAAUC,KAAI,SAACC,EAAOC,GACjC,OACE,kBAAC,EAAD,CACED,MAAOA,EACPC,MAAOA,EACPU,IAAKX,EAAME,GACX+C,aAAcA,OAKdW,EACJ1C,EAAOjC,OAAS,EACdiC,EAEA,yBAAKsB,UAAU,SACb,0BAAMA,UAAU,aAAhB,kBACA,0BAAMA,UAAU,eAAhB,6BAGN,OACE,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,eAAeoB,M,QCnBpCC,EAAQ,IAAUC,S,IAgCHC,E,4MA7BbrF,MAAQ,CAAEoB,UAAWoB,EAAQQ,oBAAqB,M,EAElDsC,aAAe,WAA4B,yD,EAI3Cf,aAAe,SAAChD,GACdgE,QAAQC,IAAIjE,GACZ,EAAKV,UAAS,iBAAO,CAAEmC,oBAAqBzB,O,uDAI5C,OACE,6BACE,yBAAKuC,UAAU,qBAAf,yBAEA,kBAAC2B,EAAD,CACErE,UAAW2B,KAAK/C,MAAMoB,UACtB4B,oBAAqBD,KAAK/C,MAAMgD,sBAElC,kBAAC,EAAD,CACE5B,UAAW2B,KAAK/C,MAAMoB,UACtBmD,aAAcxB,KAAKwB,oB,GAvBXN,IAAMC,WCLxBwB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.b6929f8a.chunk.js","sourcesContent":["import React from \"react\";\nimport { Map, GoogleApiWrapper, Marker, InfoWindow } from \"google-maps-react\";\nimport \"./GoogleMap.css\";\n\nconst styles = [\n  {\n      \"featureType\": \"water\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n          {\n              \"visibility\": \"on\"\n          },\n          {\n              \"color\": \"#aee2e0\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"landscape\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [\n          {\n              \"color\": \"#abce83\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"poi\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [\n          {\n              \"color\": \"#769E72\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"poi\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n          {\n              \"color\": \"#7B8758\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"poi\",\n      \"elementType\": \"labels.text.stroke\",\n      \"stylers\": [\n          {\n              \"color\": \"#EBF4A4\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n          {\n              \"visibility\": \"simplified\"\n          },\n          {\n              \"color\": \"#8dab68\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"road\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [\n          {\n              \"visibility\": \"simplified\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"road\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n          {\n              \"color\": \"#5B5B3F\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"road\",\n      \"elementType\": \"labels.text.stroke\",\n      \"stylers\": [\n          {\n              \"color\": \"#ABCE83\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"road\",\n      \"elementType\": \"labels.icon\",\n      \"stylers\": [\n          {\n              \"visibility\": \"off\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"road.local\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n          {\n              \"color\": \"#A4C67D\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"road.arterial\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n          {\n              \"color\": \"#9BBF72\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"road.highway\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n          {\n              \"color\": \"#EBF4A4\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"transit\",\n      \"stylers\": [\n          {\n              \"visibility\": \"off\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"administrative\",\n      \"elementType\": \"geometry.stroke\",\n      \"stylers\": [\n          {\n              \"visibility\": \"on\"\n          },\n          {\n              \"color\": \"#87ae79\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"administrative\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [\n          {\n              \"color\": \"#7f2200\"\n          },\n          {\n              \"visibility\": \"off\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"administrative\",\n      \"elementType\": \"labels.text.stroke\",\n      \"stylers\": [\n          {\n              \"color\": \"#ffffff\"\n          },\n          {\n              \"visibility\": \"on\"\n          },\n          {\n              \"weight\": 4.1\n          }\n      ]\n  },\n  {\n      \"featureType\": \"administrative\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n          {\n              \"color\": \"#495421\"\n          }\n      ]\n  },\n  {\n      \"featureType\": \"administrative.neighborhood\",\n      \"elementType\": \"labels\",\n      \"stylers\": [\n          {\n              \"visibility\": \"off\"\n          }\n      ]\n  }\n];\n\nlet markerObjects = [];\n\nexport class MapContainer extends React.Component {\n  state = {\n    showingInfoWindow: false,\n    activeMarker: {},\n    selectedPlace: {},\n  };\n\n  isEqual = (a, b) => {\n    if (a.length !== b.length) return \"False\";\n    else {\n      // comapring each element of array\n      for (var i = 0; i < a.length; i++) if (a[i] !== b[i]) return \"False\";\n      return \"True\";\n    }\n  };\n\n  onMarkerClick = (props, marker, e) => {\n    this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: false,\n    });\n  };\n\n  onMapClicked = (props) => {\n    if (this.state.showingInfoWindow) {\n      this.setState({\n        showingInfoWindow: false,\n        activeMarker: null,\n      });\n    }\n  };\n\n  onClose = () => {\n    if (this.state.showingInfoWindow) {\n      this.setState({\n        showingInfoWindow: false,\n        activeMarker: null,\n      });\n    }\n  };\n\n  componentDidUpdate(prevProps) {\n    if (!this.isEqual(prevProps.storeList, this.props.storeList)) {\n      this.setState(() => ({\n        showingInfoWindow: false,\n        activeMarker: {},\n        selectedPlace: {},\n      }));\n    }\n\n    if (prevProps.selectedMarkerIndex !== this.props.selectedMarkerIndex) {\n      if (markerObjects.length > 0 && this.props.selectedMarkerIndex) {\n        let markers = markerObjects.slice(\n          markerObjects.length - 20,\n          markerObjects.length\n        );\n\n        new this.props.google.maps.event.trigger(\n          markers[this.props.selectedMarkerIndex - 1].marker,\n          \"click\"\n        );\n      }\n    }\n  }\n\n  onMarkerMounted = (element) => {\n    markerObjects.push(element);\n  };\n\n  getMarkers = () => {\n    const markers = this.props.storeList.map((store, index) => {\n      return (\n        <Marker\n          id={index}\n          ref={this.onMarkerMounted}\n          onClick={this.onMarkerClick}\n          position={{\n            lat: store.coordinates.latitude,\n            lng: store.coordinates.longitude,\n          }}\n          // icon={{\n          //   url: './mate.png',\n          // }}\n          key={store.id}\n          name={store.name}\n          address={store.location.address1}\n          index={index + 1}\n          rating={store.rating}\n        />\n      );\n    });\n    return markers;\n  };\n\n  getMapBounds = (stores) => {\n    let bounds = new this.props.google.maps.LatLngBounds();\n    for (let index = 0; index < this.props.storeList.length; index++) {\n      bounds.extend({\n        lat: this.props.storeList[index].coordinates.latitude,\n        lng: this.props.storeList[index].coordinates.longitude,\n      });\n    }\n    return bounds;\n  };\n\n \n _mapLoaded(mapProps, map) {\n    map.setOptions({\n       styles: styles\n    })\n }\n\n  render() {\n    return (\n      <Map\n        google={this.props.google}\n        defaultZoom={8}\n        options={this.createMapOptions}\n        defaultCenter={{\n          lat: 52.378711410477365,\n          lng: 4.883293797906577,\n        }}\n        onClick={this.onMapClicked}\n        onReady={(mapProps, map) => this._mapLoaded(mapProps, map)}\n        bounds={this.getMapBounds()}\n      >\n        {this.getMarkers()}\n        <InfoWindow\n          position={this.state.selectedPlace.position}\n          visible={this.state.showingInfoWindow}\n          onClose={this.onClose}\n        >\n          <div id=\"info-window\" className=\"store-info-window\">\n            <div className=\"store-info-name\">\n              {this.state.selectedPlace.name}\n            </div>\n            <div className=\"store-info-address\">\n              <div className=\"icon\">\n                <i className=\"fas fa-location-arrow\"></i>\n              </div>\n              <span> {this.state.selectedPlace.address}</span>\n            </div>\n            <div className=\"store-info-phone\">\n              <div className=\"icon\">\n                <i className=\"fas fa-phone-alt\"></i>\n              </div>\n              <span>\n                <a href=\"tel:{this.state.selectedPlace.phone}\">\n                  {this.state.selectedPlace.phone}\n                </a>\n              </span>\n            </div>\n          </div>\n        </InfoWindow>\n      </Map>\n    );\n  }\n}\n\nexport default GoogleApiWrapper({\n  apiKey: process.env.REACT_APP_MAPS_API_KEY,\n})(MapContainer);\n","import React from \"react\";\nimport \"./Store.css\";\n\nconst Store = ({ store, index, onStoreClick }) => {\n  return (\n    <div\n      className=\"store-container\"\n      onClick={(event) => {\n        onStoreClick(index+1, event);\n      }}\n    >\n      <div className=\"store-container-background\">\n        <div className=\"store-info-container\">\n          <div className=\"store-address\">\n            <span style={{ fontWeight: \"bold\", color: \"#514C0D\" }}>\n              {\" \"}\n              {store.name\n                .split(\" \")\n                .map((w) => w[0].toUpperCase() + w.substr(1).toLowerCase())\n                .join(\" \")}\n            </span>\n            <span> {store.location.address1}</span>\n          </div>\n          <div className=\"store-phone-number\">{store.phone}</div>\n        </div>\n        <div className=\"store-number-container\">\n          <div className=\"store-number\">{index + 1}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Store;\n","import React from \"react\";\nimport \"./SearchBar.css\";\n\nclass SearchBar extends React.Component {\n  state = { location: \"Amsterdam\" };\n\n  handleLocationInputChange = (event) => {\n    let location = event.target.value;\n    this.setState(() => ({ location }));\n  };\n  onKeyUp = (e) => {\n    if (e.key === \"Enter\") {\n      this.props.onFormSubmit(this.state.location);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"search-bar\">\n        <div className=\"search-container\">\n          <div className=\"search\">\n            <input\n              type=\"text\"\n              value={this.state.location}\n              placeholder=\"Enter Location\"\n              id=\"location\"\n              onChange={this.handleLocationInputChange}\n              onKeyUp={this.onKeyUp}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from \"react\";\nimport Store from \"./Store\";\nimport \"./StoreList.css\";\n\nconst StoreList = ({ storeList, onStoreClick }) => {\n  let stores = storeList.map((store, index) => {\n    return (\n      <Store\n        store={store}\n        index={index}\n        key={store.id}\n        onStoreClick={onStoreClick}\n      />\n    );\n  });\n\n  const renderedContent =\n    stores.length > 0 ? (\n      stores\n    ) : (\n      <div className=\"intro\">\n        <span className=\"enter-zip\">Enter location</span>\n        <span className=\"find-stores\">Find yerba mate near you</span>\n      </div>\n    );\n  return (\n    <div className=\"stores-list-container\">\n      <div className=\"stores-list\">{renderedContent}</div>\n    </div>\n  );\n};\n\nexport default StoreList;\n","import React from \"react\";\nimport GoogleMapDemo from \"./GoogleMapDemo\";\nimport \"./App.css\";\nimport SearchBar from \"./SearchBar\";\nimport StoreList from \"./StoreList\";\nimport stores from \"../stores.json\";\n\n\nrequire('dotenv').config()\n\nclass App extends React.Component {\n  state = { storeList: stores, selectedMarkerIndex: null };\n\n  onFormSubmit = (location = \"Amsterdam\") => {\n\n  };\n\n  onStoreClick = (index) => {\n    console.log(index);\n    this.setState(() => ({ selectedMarkerIndex: index }));\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"title roboto-thin\">Matemapa ðŸ§‰</div>\n        {/* <SearchBar onFormSubmit={this.onFormSubmit} /> */}\n        <GoogleMapDemo\n          storeList={this.state.storeList}\n          selectedMarkerIndex={this.state.selectedMarkerIndex}\n        />\n        <StoreList\n          storeList={this.state.storeList}\n          onStoreClick={this.onStoreClick}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}